import{o as e,n as t,k as r}from"./vendor.9ff4bacf.js";import{e as n,c as o,d as a,f,k as i,g as u,b as s}from"./index.1b842724.js";import{s as c}from"./immutable.e5880f04.js";var l={},d={},p=e.exports,h=new(0,n.ec)("secp256k1"),v=h.curve;d.privateKeyExport=function(e,t){var r=new p(e);if(r.ucmp(v.n)>=0)throw new Error("couldn't export to DER format");var n=h.g.mul(r);return y(n.getX(),n.getY(),t)},d.privateKeyModInverse=function(e){var t=new p(e);if(t.ucmp(v.n)>=0||t.isZero())throw new Error("private key range is invalid");return t.invm(v.n).toArrayLike(Buffer,"be",32)},d.signatureImport=function(e){var t=new p(e.r);t.ucmp(v.n)>=0&&(t=new p(0));var r=new p(e.s);return r.ucmp(v.n)>=0&&(r=new p(0)),Buffer.concat([t.toArrayLike(Buffer,"be",32),r.toArrayLike(Buffer,"be",32)])},d.ecdhUnsafe=function(e,t,r){var n=h.keyFromPublic(e),o=new p(t);if(o.ucmp(v.n)>=0||o.isZero())throw new Error("scalar was invalid (zero or overflow)");var a=n.pub.mul(o);return y(a.getX(),a.getY(),r)};var y=function(e,t,r){var n=void 0;return r?((n=Buffer.alloc(33))[0]=t.isOdd()?3:2,e.toArrayLike(Buffer,"be",32).copy(n,1)):((n=Buffer.alloc(65))[0]=4,e.toArrayLike(Buffer,"be",32).copy(n,1),t.toArrayLike(Buffer,"be",32).copy(n,33)),n},g={},m=Buffer.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),b=Buffer.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);g.privateKeyExport=function(e,t,r){var n=Buffer.from(r?m:b);return e.copy(n,r?8:9),t.copy(n,r?181:214),n},g.privateKeyImport=function(e){var t=e.length,r=0;if(t<r+1||48!==e[r])return null;if(t<(r+=1)+1||!(128&e[r]))return null;var n=127&e[r];if(n<1||n>2)return null;if(t<(r+=1)+n)return null;var o=e[r+n-1]|(n>1?e[r+n-2]<<8:0);return t<(r+=n)+o||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]?null:e.slice(r+2,r+2+e[r+1])},g.signatureImportLax=function(e){var t=Buffer.alloc(32,0),r=Buffer.alloc(32,0),n=e.length,o=0;if(48!==e[o++])return null;var a=e[o++];if(128&a&&(o+=a-128)>n)return null;if(2!==e[o++])return null;var f=e[o++];if(128&f){if(o+(a=f-128)>n)return null;for(;a>0&&0===e[o];o+=1,a-=1);for(f=0;a>0;o+=1,a-=1)f=(f<<8)+e[o]}if(f>n-o)return null;var i=o;if(o+=f,2!==e[o++])return null;var u=e[o++];if(128&u){if(o+(a=u-128)>n)return null;for(;a>0&&0===e[o];o+=1,a-=1);for(u=0;a>0;o+=1,a-=1)u=(u<<8)+e[o]}if(u>n-o)return null;var s=o;for(o+=u;f>0&&0===e[i];f-=1,i+=1);if(f>32)return null;var c=e.slice(i,i+f);for(c.copy(t,32-c.length);u>0&&0===e[s];u-=1,s+=1);if(u>32)return null;var l=e.slice(s,s+u);return l.copy(r,32-l.length),{r:t,s:r}};var x=o,w=d,A=g,_=function(e){return 32===e.length&&x.privateKeyVerify(Uint8Array.from(e))},S={privateKeyVerify:_,privateKeyExport:function(e,t){if(32!==e.length)throw new RangeError("private key length is invalid");var r=w.privateKeyExport(e,t);return A.privateKeyExport(e,r,t)},privateKeyImport:function(e){if(null!==(e=A.privateKeyImport(e))&&32===e.length&&_(e))return e;throw new Error("couldn't import from DER format")},privateKeyNegate:function(e){return Buffer.from(x.privateKeyNegate(Uint8Array.from(e)))},privateKeyModInverse:function(e){if(32!==e.length)throw new Error("private key length is invalid");return Buffer.from(w.privateKeyModInverse(Uint8Array.from(e)))},privateKeyTweakAdd:function(e,t){return Buffer.from(x.privateKeyTweakAdd(Uint8Array.from(e),t))},privateKeyTweakMul:function(e,t){return Buffer.from(x.privateKeyTweakMul(Uint8Array.from(e),Uint8Array.from(t)))},publicKeyCreate:function(e,t){return Buffer.from(x.publicKeyCreate(Uint8Array.from(e),t))},publicKeyConvert:function(e,t){return Buffer.from(x.publicKeyConvert(Uint8Array.from(e),t))},publicKeyVerify:function(e){return(33===e.length||65===e.length)&&x.publicKeyVerify(Uint8Array.from(e))},publicKeyTweakAdd:function(e,t,r){return Buffer.from(x.publicKeyTweakAdd(Uint8Array.from(e),Uint8Array.from(t),r))},publicKeyTweakMul:function(e,t,r){return Buffer.from(x.publicKeyTweakMul(Uint8Array.from(e),Uint8Array.from(t),r))},publicKeyCombine:function(e,t){var r=[];return e.forEach((function(e){r.push(Uint8Array.from(e))})),Buffer.from(x.publicKeyCombine(r,t))},signatureNormalize:function(e){return Buffer.from(x.signatureNormalize(Uint8Array.from(e)))},signatureExport:function(e){return Buffer.from(x.signatureExport(Uint8Array.from(e)))},signatureImport:function(e){return Buffer.from(x.signatureImport(Uint8Array.from(e)))},signatureImportLax:function(e){if(0===e.length)throw new RangeError("signature length is invalid");var t=A.signatureImportLax(e);if(null===t)throw new Error("couldn't parse DER signature");return w.signatureImport(t)},sign:function(e,t,r){if(null===r)throw new TypeError("options should be an Object");var n=void 0;if(r){if(n={},null===r.data)throw new TypeError("options.data should be a Buffer");if(r.data){if(32!==r.data.length)throw new RangeError("options.data length is invalid");n.data=new Uint8Array(r.data)}if(null===r.noncefn)throw new TypeError("options.noncefn should be a Function");r.noncefn&&(n.noncefn=function(e,t,n,o,a){var f=null!=n?Buffer.from(n):null,i=null!=o?Buffer.from(o):null,u=Buffer.from("");return r.noncefn&&(u=r.noncefn(Buffer.from(e),Buffer.from(t),f,i,a)),Uint8Array.from(u)})}var o=x.ecdsaSign(Uint8Array.from(e),Uint8Array.from(t),n);return{signature:Buffer.from(o.signature),recovery:o.recid}},verify:function(e,t,r){return x.ecdsaVerify(Uint8Array.from(t),Uint8Array.from(e),r)},recover:function(e,t,r,n){return Buffer.from(x.ecdsaRecover(Uint8Array.from(t),r,Uint8Array.from(e),n))},ecdh:function(e,t){return Buffer.from(x.ecdh(Uint8Array.from(e),Uint8Array.from(t),{}))},ecdhUnsafe:function(e,t,r){if(33!==e.length&&65!==e.length)throw new RangeError("public key length is invalid");if(32!==t.length)throw new RangeError("private key length is invalid");return Buffer.from(w.ecdhUnsafe(Uint8Array.from(e),Uint8Array.from(t),r))}},j=f;function B(e){var t=e;if("string"!=typeof t)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof t+", while padToEven.");return t.length%2&&(t="0"+t),t}function E(e){return"0x"+e.toString(16)}var k={arrayContainsArray:function(e,t,r){if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof e+"'");if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof t+"'");return t[Boolean(r)?"some":"every"]((function(t){return e.indexOf(t)>=0}))},intToBuffer:function(e){var t=E(e);return new Buffer(B(t.slice(2)),"hex")},getBinarySize:function(e){if("string"!=typeof e)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof e+"'.");return Buffer.byteLength(e,"utf8")},isHexPrefixed:a,stripHexPrefix:j,padToEven:B,intToHex:E,fromAscii:function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t},fromUtf8:function(e){return"0x"+B(new Buffer(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")},toAscii:function(e){var t="",r=0,n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){var o=parseInt(e.substr(r,2),16);t+=String.fromCharCode(o)}return t},toUtf8:function(e){return new Buffer(B(j(e).replace(/^0+|0+$/g,"")),"hex").toString("utf8")},getKeys:function(e,t,r){if(!Array.isArray(e))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof e+"'");if("string"!=typeof t)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof t+"'.");for(var n=[],o=0;o<e.length;o++){var a=e[o][t];if(r&&!a)a="";else if("string"!=typeof a)throw new Error("invalid abi");n.push(a)}return n},isHexString:function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}};!function(r){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=i,a=o.keccak224,f=o.keccak384,l=o.keccak256,d=o.keccak512,p=S,h=t,v=u,y=e.exports,g=s,m=c.exports.Buffer;Object.assign(r,k),r.MAX_INTEGER=new y("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),r.TWO_POW256=new y("10000000000000000000000000000000000000000000000000000000000000000",16),r.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.SHA3_NULL_S=r.KECCAK256_NULL_S,r.KECCAK256_NULL=m.from(r.KECCAK256_NULL_S,"hex"),r.SHA3_NULL=r.KECCAK256_NULL,r.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.SHA3_RLP_ARRAY_S=r.KECCAK256_RLP_ARRAY_S,r.KECCAK256_RLP_ARRAY=m.from(r.KECCAK256_RLP_ARRAY_S,"hex"),r.SHA3_RLP_ARRAY=r.KECCAK256_RLP_ARRAY,r.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.SHA3_RLP_S=r.KECCAK256_RLP_S,r.KECCAK256_RLP=m.from(r.KECCAK256_RLP_S,"hex"),r.SHA3_RLP=r.KECCAK256_RLP,r.BN=y,r.rlp=v,r.secp256k1=p,r.zeros=function(e){return m.allocUnsafe(e).fill(0)},r.zeroAddress=function(){var e=r.zeros(20);return r.bufferToHex(e)},r.setLengthLeft=r.setLength=function(e,t,n){var o=r.zeros(t);return e=r.toBuffer(e),n?e.length<t?(e.copy(o),o):e.slice(0,t):e.length<t?(e.copy(o,t-e.length),o):e.slice(-t)},r.setLengthRight=function(e,t){return r.setLength(e,t,!0)},r.unpad=r.stripZeros=function(e){for(var t=(e=r.stripHexPrefix(e))[0];e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e},r.toBuffer=function(e){if(!m.isBuffer(e))if(Array.isArray(e))e=m.from(e);else if("string"==typeof e)e=r.isHexString(e)?m.from(r.padToEven(r.stripHexPrefix(e)),"hex"):m.from(e);else if("number"==typeof e)e=r.intToBuffer(e);else if(null==e)e=m.allocUnsafe(0);else if(y.isBN(e))e=e.toArrayLike(m);else{if(!e.toArray)throw new Error("invalid type");e=m.from(e.toArray())}return e},r.bufferToInt=function(e){return new y(r.toBuffer(e)).toNumber()},r.bufferToHex=function(e){return"0x"+(e=r.toBuffer(e)).toString("hex")},r.fromSigned=function(e){return new y(e).fromTwos(256)},r.toUnsigned=function(e){return m.from(e.toTwos(256).toArray())},r.keccak=function(e,t){switch(e=r.toBuffer(e),t||(t=256),t){case 224:return a(e);case 256:return l(e);case 384:return f(e);case 512:return d(e);default:throw new Error("Invald algorithm: keccak"+t)}},r.keccak256=function(e){return r.keccak(e)},r.sha3=r.keccak,r.sha256=function(e){return e=r.toBuffer(e),g("sha256").update(e).digest()},r.ripemd160=function(e,t){e=r.toBuffer(e);var n=g("rmd160").update(e).digest();return!0===t?r.setLength(n,32):n},r.rlphash=function(e){return r.keccak(v.encode(e))},r.isValidPrivate=function(e){return p.privateKeyVerify(e)},r.isValidPublic=function(e,t){return 64===e.length?p.publicKeyVerify(m.concat([m.from([4]),e])):!!t&&p.publicKeyVerify(e)},r.pubToAddress=r.publicToAddress=function(e,t){return e=r.toBuffer(e),t&&64!==e.length&&(e=p.publicKeyConvert(e,!1).slice(1)),h(64===e.length),r.keccak(e).slice(-20)};var b=r.privateToPublic=function(e){return e=r.toBuffer(e),p.publicKeyCreate(e,!1).slice(1)};r.importPublic=function(e){return 64!==(e=r.toBuffer(e)).length&&(e=p.publicKeyConvert(e,!1).slice(1)),e},r.ecsign=function(e,t){var r=p.sign(e,t),n={};return n.r=r.signature.slice(0,32),n.s=r.signature.slice(32,64),n.v=r.recovery+27,n},r.hashPersonalMessage=function(e){var t=r.toBuffer("Ethereum Signed Message:\n"+e.length.toString());return r.keccak(m.concat([t,e]))},r.ecrecover=function(e,t,n,o){var a=m.concat([r.setLength(n,32),r.setLength(o,32)],64),f=t-27;if(0!==f&&1!==f)throw new Error("Invalid signature v value");var i=p.recover(e,a,f);return p.publicKeyConvert(i,!1).slice(1)},r.toRpcSig=function(e,t,n){if(27!==e&&28!==e)throw new Error("Invalid recovery id");return r.bufferToHex(m.concat([r.setLengthLeft(t,32),r.setLengthLeft(n,32),r.toBuffer(e-27)]))},r.fromRpcSig=function(e){if(65!==(e=r.toBuffer(e)).length)throw new Error("Invalid signature length");var t=e[64];return t<27&&(t+=27),{v:t,r:e.slice(0,32),s:e.slice(32,64)}},r.privateToAddress=function(e){return r.publicToAddress(b(e))},r.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},r.isZeroAddress=function(e){return r.zeroAddress()===r.addHexPrefix(e)},r.toChecksumAddress=function(e){e=r.stripHexPrefix(e).toLowerCase();for(var t=r.keccak(e).toString("hex"),n="0x",o=0;o<e.length;o++)parseInt(t[o],16)>=8?n+=e[o].toUpperCase():n+=e[o];return n},r.isValidChecksumAddress=function(e){return r.isValidAddress(e)&&r.toChecksumAddress(e)===e},r.generateAddress=function(e,t){return e=r.toBuffer(e),t=(t=new y(t)).isZero()?null:m.from(t.toArray()),r.rlphash([e,t]).slice(-20)},r.isPrecompiled=function(e){var t=r.unpad(e);return 1===t.length&&t[0]>=1&&t[0]<=8},r.addHexPrefix=function(e){return"string"!=typeof e||r.isHexPrefixed(e)?e:"0x"+e},r.isValidSignature=function(e,t,r,n){var o=new y("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),a=new y("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return 32===t.length&&32===r.length&&((27===e||28===e)&&(t=new y(t),r=new y(r),!(t.isZero()||t.gt(a)||r.isZero()||r.gt(a))&&(!1!==n||1!==new y(r).cmp(o))))},r.baToJSON=function(e){if(m.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(r.baToJSON(e[n]));return t}},r.defineProperties=function(e,t,o){if(e.raw=[],e._fields=[],e.toJSON=function(t){if(t){var n={};return e._fields.forEach((function(t){n[t]="0x"+e[t].toString("hex")})),n}return r.baToJSON(this.raw)},e.serialize=function(){return v.encode(e.raw)},t.forEach((function(t,n){function o(){return e.raw[n]}function a(o){"00"!==(o=r.toBuffer(o)).toString("hex")||t.allowZero||(o=m.allocUnsafe(0)),t.allowLess&&t.length?(o=r.stripZeros(o),h(t.length>=o.length,"The field "+t.name+" must not have more "+t.length+" bytes")):t.allowZero&&0===o.length||!t.length||h(t.length===o.length,"The field "+t.name+" must have byte length of "+t.length),e.raw[n]=o}e._fields.push(t.name),Object.defineProperty(e,t.name,{enumerable:!0,configurable:!0,get:o,set:a}),t.default&&(e[t.name]=t.default),t.alias&&Object.defineProperty(e,t.alias,{enumerable:!1,configurable:!0,set:a,get:o})})),o)if("string"==typeof o&&(o=m.from(r.stripHexPrefix(o),"hex")),m.isBuffer(o)&&(o=v.decode(o)),Array.isArray(o)){if(o.length>e._fields.length)throw new Error("wrong number of fields in data");o.forEach((function(t,n){e[e._fields[n]]=r.toBuffer(t)}))}else{if("object"!==(void 0===o?"undefined":n(o)))throw new Error("invalid data");var a=Object.keys(o);t.forEach((function(t){-1!==a.indexOf(t.name)&&(e[t.name]=o[t.name]),-1!==a.indexOf(t.alias)&&(e[t.alias]=o[t.alias])}))}}}(l);var L={exports:{}},O={exports:{}},P={exports:{}},K="object"==typeof r&&r&&r.Object===Object&&r,T=K,C="object"==typeof self&&self&&self.Object===Object&&self,R=T||C||Function("return this")(),M=R.Symbol,U=M,G=Object.prototype,I=G.hasOwnProperty,N=G.toString,z=U?U.toStringTag:void 0;var D=function(e){var t=I.call(e,z),r=e[z];try{e[z]=void 0;var n=!0}catch(a){}var o=N.call(e);return n&&(t?e[z]=r:delete e[z]),o},H=Object.prototype.toString;var F=D,Z=function(e){return H.call(e)},V=M?M.toStringTag:void 0;var q=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":V&&V in Object(e)?F(e):Z(e)};var Y=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},W=q,X=Y;var $=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},J=function(e){if(!X(e))return!1;var t=W(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Q=$;var ee,te,re=function(e){return null!=e&&Q(e.length)&&!J(e)},ne={exports:{}};ee=ne,te=ne.exports,Object.defineProperty(te,"__esModule",{value:!0}),te.default={},ee.exports=te.default;var oe={exports:{}},ae={exports:{}};var fe=function(){},ie={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}},e.exports=t.default}(ie,ie.exports);var ue={exports:{}},se={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r&&e[r]&&e[r]()};var r="function"==typeof Symbol&&Symbol.iterator;e.exports=t.default}(se,se.exports);var ce=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};var le=function(e){return null!=e&&"object"==typeof e},de=q,pe=le;var he=function(e){return pe(e)&&"[object Arguments]"==de(e)},ve=le,ye=Object.prototype,ge=ye.hasOwnProperty,me=ye.propertyIsEnumerable,be=he(function(){return arguments}())?he:function(e){return ve(e)&&ge.call(e,"callee")&&!me.call(e,"callee")},xe=Array.isArray,we={exports:{}};var Ae=function(){return!1};!function(e,t){var r=R,n=Ae,o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,f=a&&a.exports===o?r.Buffer:void 0,i=(f?f.isBuffer:void 0)||n;e.exports=i}(we,we.exports);var _e=/^(?:0|[1-9]\d*)$/;var Se=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&_e.test(e))&&e>-1&&e%1==0&&e<t},je=q,Be=$,Ee=le,ke={};ke["[object Float32Array]"]=ke["[object Float64Array]"]=ke["[object Int8Array]"]=ke["[object Int16Array]"]=ke["[object Int32Array]"]=ke["[object Uint8Array]"]=ke["[object Uint8ClampedArray]"]=ke["[object Uint16Array]"]=ke["[object Uint32Array]"]=!0,ke["[object Arguments]"]=ke["[object Array]"]=ke["[object ArrayBuffer]"]=ke["[object Boolean]"]=ke["[object DataView]"]=ke["[object Date]"]=ke["[object Error]"]=ke["[object Function]"]=ke["[object Map]"]=ke["[object Number]"]=ke["[object Object]"]=ke["[object RegExp]"]=ke["[object Set]"]=ke["[object String]"]=ke["[object WeakMap]"]=!1;var Le=function(e){return Ee(e)&&Be(e.length)&&!!ke[je(e)]};var Oe=function(e){return function(t){return e(t)}},Pe={exports:{}};!function(e,t){var r=K,n=t&&!t.nodeType&&t,o=n&&e&&!e.nodeType&&e,a=o&&o.exports===n&&r.process,f=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=f}(Pe,Pe.exports);var Ke=Le,Te=Oe,Ce=Pe.exports,Re=Ce&&Ce.isTypedArray,Me=Re?Te(Re):Ke,Ue=ce,Ge=be,Ie=xe,Ne=we.exports,ze=Se,De=Me,He=Object.prototype.hasOwnProperty;var Fe=function(e,t){var r=Ie(e),n=!r&&Ge(e),o=!r&&!n&&Ne(e),a=!r&&!n&&!o&&De(e),f=r||n||o||a,i=f?Ue(e.length,String):[],u=i.length;for(var s in e)!t&&!He.call(e,s)||f&&("length"==s||o&&("offset"==s||"parent"==s)||a&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||ze(s,u))||i.push(s);return i},Ze=Object.prototype;var Ve=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ze)};var qe=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),Ye=Ve,We=qe,Xe=Object.prototype.hasOwnProperty;var $e=Fe,Je=function(e){if(!Ye(e))return We(e);var t=[];for(var r in Object(e))Xe.call(e,r)&&"constructor"!=r&&t.push(r);return t},Qe=re;var et=function(e){return Qe(e)?$e(e):Je(e)};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,r.default)(e))return function(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}(e);var t=(0,n.default)(e);return t?function(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}(t):(a=e,f=(0,o.default)(a),i=-1,u=f.length,function(){var e=f[++i];return i<u?{value:a[e],key:e}:null});var a,f,i,u};var r=a(re),n=a(se.exports),o=a(et);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ue,ue.exports);var tt={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}},e.exports=t.default}(tt,tt.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,i,u){if(u=(0,n.default)(u||r.default),e<=0||!t)return u(null);var s=(0,o.default)(t),c=!1,l=0,d=!1;function p(e,t){if(l-=1,e)c=!0,u(e);else{if(t===f.default||c&&l<=0)return c=!0,u(null);d||h()}}function h(){for(d=!0;l<e&&!c;){var t=s();if(null===t)return c=!0,void(l<=0&&u(null));l+=1,i(t.value,t.key,(0,a.default)(p))}d=!1}h()}};var r=i(fe),n=i(ie.exports),o=i(ue.exports),a=i(tt.exports),f=i(ne.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ae,ae.exports);var rt={},nt={exports:{}},ot={exports:{}},at={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t|=0;for(var r=Math.max(e.length-t,0),n=Array(r),o=0;o<r;o++)n[o]=e[t+o];return n},e.exports=t.default}(at,at.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=(0,n.default)(arguments),r=t.pop();e.call(this,t,r)}};var r,n=(r=at.exports)&&r.__esModule?r:{default:r};e.exports=t.default}(ot,ot.exports);var ft={};Object.defineProperty(ft,"__esModule",{value:!0}),ft.hasNextTick=ft.hasSetImmediate=void 0,ft.fallback=dt,ft.wrap=pt;var it,ut=(it=at.exports)&&it.__esModule?it:{default:it};var st,ct=ft.hasSetImmediate="function"==typeof setImmediate&&setImmediate,lt=ft.hasNextTick="object"==typeof process&&"function"==typeof process.nextTick;function dt(e){setTimeout(e,0)}function pt(e){return function(t){var r=(0,ut.default)(arguments,1);e((function(){t.apply(null,r)}))}}st=ct?setImmediate:lt?process.nextTick:dt,ft.default=pt(st),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)((function(t,n){var o;try{o=e.apply(this,t)}catch(a){return n(a)}(0,r.default)(o)&&"function"==typeof o.then?o.then((function(e){f(n,null,e)}),(function(e){f(n,e.message?e:new Error(e))})):n(null,o)}))};var r=a(Y),n=a(ot.exports),o=a(ft);function a(e){return e&&e.__esModule?e:{default:e}}function f(e,t,r){try{e(t,r)}catch(n){(0,o.default)(i,n)}}function i(e){throw e}e.exports=t.default}(nt,nt.exports),Object.defineProperty(rt,"__esModule",{value:!0}),rt.isAsync=void 0;var ht=function(e){return e&&e.__esModule?e:{default:e}}(nt.exports);var vt="function"==typeof Symbol;function yt(e){return vt&&"AsyncFunction"===e[Symbol.toStringTag]}rt.default=function(e){return yt(e)?(0,ht.default)(e):e},rt.isAsync=yt,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,a){(0,r.default)(t)(e,(0,n.default)(o),a)};var r=o(ae.exports),n=o(rt);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(oe,oe.exports);var gt={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(r,n,o){return e(r,t,n,o)}},e.exports=t.default}(gt,gt.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){((0,r.default)(e)?l:d)(e,(0,s.default)(t),n)};var r=c(re),n=c(ne.exports),o=c(oe.exports),a=c(gt.exports),f=c(fe),i=c(ie.exports),u=c(tt.exports),s=c(rt);function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r){r=(0,i.default)(r||f.default);var o=0,a=0,s=e.length;function c(e,t){e?r(e):++a!==s&&t!==n.default||r(null)}for(0===s&&r(null);o<s;o++)t(e[o],o,(0,u.default)(c))}var d=(0,a.default)(o.default,1/0);e.exports=t.default}(P,P.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,o,a){return e(r.default,t,(0,n.default)(o),a)}};var r=o(P.exports),n=o(rt);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(O,O.exports);var mt={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,a){a=a||r.default,t=t||[];var f=[],i=0,u=(0,n.default)(o);e(t,(function(e,t,r){var n=i++;u(e,(function(e,t){f[n]=t,r(e)}))}),(function(e){a(e,f)}))};var r=o(fe),n=o(rt);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(mt,mt.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=o(O.exports),n=o(mt.exports);function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(n.default),e.exports=t.default}(L,L.exports);var bt={exports:{}},xt={exports:{}},wt={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r,n){return e(t,n)}},e.exports=t.default}(wt,wt.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,f){(0,r.default)(t)(e,(0,n.default)((0,o.default)(a)),f)};var r=a(ae.exports),n=a(wt.exports),o=a(rt);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(xt,xt.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=o(xt.exports),n=o(gt.exports);function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)(r.default,1),e.exports=t.default}(bt,bt.exports);var At=l,_t={genesisGasLimit:{v:5e3,d:"Gas limit of the Genesis block."},genesisDifficulty:{v:17179869184,d:"Difficulty of the Genesis block."},genesisNonce:{v:"0x0000000000000042",d:"the geneis nonce"},genesisExtraData:{v:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa",d:"extra data "},genesisHash:{v:"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3",d:"genesis hash"},genesisStateRoot:{v:"0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544",d:"the genesis state root"},minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be."},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations."},minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be."},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations."},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not."},maximumExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis."},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs."},stackLimit:{v:1024,d:"Maximum size of VM stack allowed."},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack."},tierStepGas:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them."},expGas:{v:10,d:"Once per EXP instuction."},expByteGas:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction."},sha3Gas:{v:30,d:"Once per SHA3 operation."},sha3WordGas:{v:6,d:"Once per word of the SHA3 operation's data."},sloadGas:{v:50,d:"Once per SLOAD operation."},sstoreSetGas:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero."},sstoreResetGas:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero."},sstoreRefundGas:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero."},jumpdestGas:{v:1,d:"Refunded gas, once per SSTORE operation if the zeroness changes to zero."},logGas:{v:375,d:"Per LOG* operation."},logDataGas:{v:8,d:"Per byte in a LOG* operation's data."},logTopicGas:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas."},createGas:{v:32e3,d:"Once per CREATE operation & contract-creation transaction."},callGas:{v:40,d:"Once per CALL operation & message call transaction."},callStipend:{v:2300,d:"Free gas given at beginning of call."},callValueTransferGas:{v:9e3,d:"Paid for CALL when the value transfor is non-zero."},callNewAccountGas:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior."},suicideRefundGas:{v:24e3,d:"Refunded following a suicide operation."},memoryGas:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL."},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation."},createDataGas:{v:200,d:""},txGas:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions."},txCreation:{v:32e3,d:"the cost of creating a contract via tx"},txDataZeroGas:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions."},txDataNonZeroGas:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions."},copyGas:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added."},ecrecoverGas:{v:3e3,d:""},sha256Gas:{v:60,d:""},sha256WordGas:{v:12,d:""},ripemd160Gas:{v:600,d:""},ripemd160WordGas:{v:120,d:""},identityGas:{v:15,d:""},identityWordGas:{v:3,d:""},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},ommerReward:{v:"625000000000000000",d:"The amount of wei a miner of an uncle block gets for being inculded in the blockchain"},niblingReward:{v:"156250000000000000",d:"the amount a miner gets for inculding a uncle"},homeSteadForkNumber:{v:115e4,d:"the block that the Homestead fork started at"},homesteadRepriceForkNumber:{v:2463e3,d:"the block that the Homestead Reprice (EIP150) fork started at"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},freeBlockPeriod:{v:2}},St=At.BN,jt=new St("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),Bt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||{};var r=[{name:"nonce",length:32,allowLess:!0,default:new Buffer([])},{name:"gasPrice",length:32,allowLess:!0,default:new Buffer([])},{name:"gasLimit",alias:"gas",length:32,allowLess:!0,default:new Buffer([])},{name:"to",allowZero:!0,length:20,default:new Buffer([])},{name:"value",length:32,allowLess:!0,default:new Buffer([])},{name:"data",alias:"input",allowZero:!0,default:new Buffer([])},{name:"v",allowZero:!0,default:new Buffer([28])},{name:"r",length:32,allowZero:!0,allowLess:!0,default:new Buffer([])},{name:"s",length:32,allowZero:!0,allowLess:!0,default:new Buffer([])}];At.defineProperties(this,r,t),Object.defineProperty(this,"from",{enumerable:!0,configurable:!0,get:this.getSenderAddress.bind(this)});var n=At.bufferToInt(this.v),o=Math.floor((n-35)/2);o<0&&(o=0),this._chainId=o||t.chainId||0,this._homestead=!0}return e.prototype.toCreationAddress=function(){return""===this.to.toString("hex")},e.prototype.hash=function(e){void 0===e&&(e=!0);var t=void 0;if(e)t=this.raw;else if(this._chainId>0){var r=this.raw.slice();this.v=this._chainId,this.r=0,this.s=0,t=this.raw,this.raw=r}else t=this.raw.slice(0,6);return At.rlphash(t)},e.prototype.getChainId=function(){return this._chainId},e.prototype.getSenderAddress=function(){if(this._from)return this._from;var e=this.getSenderPublicKey();return this._from=At.publicToAddress(e),this._from},e.prototype.getSenderPublicKey=function(){if(!(this._senderPubKey&&this._senderPubKey.length||this.verifySignature()))throw new Error("Invalid Signature");return this._senderPubKey},e.prototype.verifySignature=function(){var e=this.hash(!1);if(this._homestead&&1===new St(this.s).cmp(jt))return!1;try{var t=At.bufferToInt(this.v);this._chainId>0&&(t-=2*this._chainId+8),this._senderPubKey=At.ecrecover(e,t,this.r,this.s)}catch(r){return!1}return!!this._senderPubKey},e.prototype.sign=function(e){var t=this.hash(!1),r=At.ecsign(t,e);this._chainId>0&&(r.v+=2*this._chainId+8),Object.assign(this,r)},e.prototype.getDataFee=function(){for(var e=this.raw[5],t=new St(0),r=0;r<e.length;r++)0===e[r]?t.iaddn(_t.txDataZeroGas.v):t.iaddn(_t.txDataNonZeroGas.v);return t},e.prototype.getBaseFee=function(){var e=this.getDataFee().iaddn(_t.txGas.v);return this._homestead&&this.toCreationAddress()&&e.iaddn(_t.txCreation.v),e},e.prototype.getUpfrontCost=function(){return new St(this.gasLimit).imul(new St(this.gasPrice)).iadd(new St(this.value))},e.prototype.validate=function(e){var t=[];return this.verifySignature()||t.push("Invalid Signature"),this.getBaseFee().cmp(new St(this.gasLimit))>0&&t.push(["gas limit is too low. Need at least "+this.getBaseFee()]),void 0===e||!1===e?0===t.length:t.join(" ")},e}();export{Bt as a,tt as b,re as c,l as d,bt as e,P as f,xe as i,k as l,L as m,fe as n,ie as o,at as s,rt as w};
