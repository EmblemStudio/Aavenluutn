import{e}from"./abstract-connector.esm.6ce9aaa9.js";var t={};Object.defineProperty(t,"__esModule",{value:!0});const r=e.exports;function i(e,t,r){try{Reflect.apply(e,t,r)}catch(i){setTimeout((()=>{throw i}))}}class n extends r.EventEmitter{emit(e,...t){let r="error"===e;const n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const r=new Error("Unhandled error."+(e?` (${e.message})`:""));throw r.context=e,r}const o=n[e];if(void 0===o)return!1;if("function"==typeof o)i(o,this,t);else{const e=o.length,r=function(e){const t=e.length,r=new Array(t);for(let i=0;i<t;i+=1)r[i]=e[i];return r}(o);for(let n=0;n<e;n+=1)i(r[n],this,t)}return!0}}t.default=n;var o=l;l.default=l,l.stable=h,l.stableStringify=h;var f=[],a=[];function s(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function l(e,t,r,i){var n;void 0===i&&(i=s()),u(e,"",0,[],void 0,0,i);try{n=0===a.length?JSON.stringify(e,t,r):JSON.stringify(e,p(t),r)}catch(l){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==f.length;){var o=f.pop();4===o.length?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return n}function c(e,t,r,i){var n=Object.getOwnPropertyDescriptor(i,r);void 0!==n.get?n.configurable?(Object.defineProperty(i,r,{value:e}),f.push([i,r,t,n])):a.push([t,r,e]):(i[r]=e,f.push([i,r,t]))}function u(e,t,r,i,n,o,f){var a;if(o+=1,"object"==typeof e&&null!==e){for(a=0;a<i.length;a++)if(i[a]===e)return void c("[Circular]",e,t,n);if(void 0!==f.depthLimit&&o>f.depthLimit)return void c("[...]",e,t,n);if(void 0!==f.edgesLimit&&r+1>f.edgesLimit)return void c("[...]",e,t,n);if(i.push(e),Array.isArray(e))for(a=0;a<e.length;a++)u(e[a],a,a,i,e,o,f);else{var s=Object.keys(e);for(a=0;a<s.length;a++){var l=s[a];u(e[l],l,a,i,e,o,f)}}i.pop()}}function d(e,t){return e<t?-1:e>t?1:0}function h(e,t,r,i){void 0===i&&(i=s());var n,o=v(e,"",0,[],void 0,0,i)||e;try{n=0===a.length?JSON.stringify(o,t,r):JSON.stringify(o,p(t),r)}catch(c){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==f.length;){var l=f.pop();4===l.length?Object.defineProperty(l[0],l[1],l[3]):l[0][l[1]]=l[2]}}return n}function v(e,t,r,i,n,o,a){var s;if(o+=1,"object"==typeof e&&null!==e){for(s=0;s<i.length;s++)if(i[s]===e)return void c("[Circular]",e,t,n);try{if("function"==typeof e.toJSON)return}catch(p){return}if(void 0!==a.depthLimit&&o>a.depthLimit)return void c("[...]",e,t,n);if(void 0!==a.edgesLimit&&r+1>a.edgesLimit)return void c("[...]",e,t,n);if(i.push(e),Array.isArray(e))for(s=0;s<e.length;s++)v(e[s],s,s,i,e,o,a);else{var l={},u=Object.keys(e).sort(d);for(s=0;s<u.length;s++){var h=u[s];v(e[h],h,s,i,e,o,a),l[h]=e[h]}if(void 0===n)return l;f.push([n,t,e]),n[t]=l}i.pop()}}function p(e){return e=void 0!==e?e:function(e,t){return t},function(t,r){if(a.length>0)for(var i=0;i<a.length;i++){var n=a[i];if(n[1]===t&&n[0]===r){r=n[2],a.splice(i,1);break}}return e.call(this,t,r)}}export{o as f,t as s};
